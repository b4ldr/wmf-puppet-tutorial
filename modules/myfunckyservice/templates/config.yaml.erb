<%#- notice below that parameters and variables which would normally be called
using `$variable` in puppet are called with `@variable` in erb -%>
api_key: <%= @api_key %>
api_uri: <%= @api_uri %>
access_list:
<%#- we could do this better in erb but will fix it later. for now we are just
introducing basic erb syntax.  in this case we are looping an array-%>
<%- @access_list.each do |prefix| -%>
 - <%= prefix %>
<%#- you may notice that the ruby tags have a '-' after them i.e. <%- vs <%.  the
dash indicates that the templating engine should ignore trailing/preseeding white space
i.e. don't add an extra line breaks -%>
<%- end -%>
datasets:
<%#- here we loop a hash -%>
<%- @datasets.each_pair do |name, config| -%>
  <%= name %>:
  <%- config.each_pair do |name, config| -%>
    <%= name %>: <%= config %>
  <%- end -%>
<%- end -%>
